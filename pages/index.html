<!DOCTYPE html>
<html>
<head>
	<title>Remote Control</title>
	<style>
		document, html, body{
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
		}
		.container{
			display: flex;
			height: 100%;
		}
		.mouse-pad{
			flex:1;
			border:solid 1px black;
			margin: 50px;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="mouse-pad" >

		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
			  integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
			  crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.slim.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
	<script>
		(()=>{
			var socket = io('http://192.168.5.81:3000');
			var startx=0;
			var move = (event)=>{
				try{
					var touchobj = event.changedTouches[0] // reference first touch point for this event
	        		var dist = parseInt(touchobj.clientX) - startx
	        		$(".mouse-pad").html('Status: touchmove<br> Horizontal distance traveled: ' + dist + 'px')
	        
	        		var touch = event.touches[0] || event.changedTouches[0];
					var x = parseInt(touch.clientX);
	  				var y = parseInt(touch.clientY);
					socket.emit("move mouse", {x,y});
					event.preventDefault();
				}catch(e){
					$(".mouse-pad").html(e);
				}

			}
			$(".mouse-pad").on("mousemove", (event) =>{
				var data = {x: event.offsetX, y: event.offsetY};
				socket.emit("move mouse", data);
			});
			document.querySelector(".mouse-pad").addEventListener('touchmove',move);

		})();
		
	</script>
</body>
</html>